@model Akalaat.DAL.Models.Resturant

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        img {
            width: 100%;
            height: 100%;
            object-fit: fill;
        }

        .btn:focus {
            outline: none !important;
            box-shadow: none !important;
        }
    </style>
</head>

<body>
    <main class="container vh-100 p-0 mt-4 rounded-top-3">
        <section id="header" class=" bg-secondary position-relative" style="height: 35%;">
            <img class="w-100"  src="@Model.Cover_URL" alt="coverImage" />
            <form id="CoverImage" asp-action="EditCoverImage" asp-controller="Restaurant" method="post" enctype="multipart/form-data">
                <label asp-for="Cover_URL" class="btn btn-sm position-absolute end-0 mt-2 me-2" style="top: 70%;">
                    <i class="bi bi-pencil-fill text-dark"></i> 
                    <input asp-for="Cover_URL" type="file" style="display: none;"  onchange="submitForm('CoverImage')"  />
                    <input type="hidden" asp-for="Id">
                    

                    </label>
            </form>
        </section>
        <section id="body" class="d-flex mt-3">
            <aside style="width: 15%;" class="text-center p-2 m-0">
                <div class="h-50 bg-secondary rounded-circle position-relative">
                    <img width="100" height="200" src="@Model.Logo_URL" alt="coverImage" />
                    <form id="LogoImage" asp-action="EditLogoImage" asp-controller="Restaurant" method="post" enctype="multipart/form-data">
                        <label asp-for="Logo_URL" class="btn position-absolute" style="top: 70%; left: 35%;">
                            <i class="bi bi-pencil-fill text-dark"></i> 
                            <input asp-for="Logo_URL" type="file" style="display: none;" onchange="submitForm('LogoImage')"/>
                            <input type="hidden" asp-for="Id">

                        </label>
                    </form>
                </div>
            </aside>
            <article id="core" class="p-2 d-flex flex-column justify-content-between">
                <div>
                    <div class="d-flex flex-row">
                        <h3>@Model.Name</h3>
                        <button type="button" class="btn btn-sm" data-bs-toggle="modal" data-bs-target="#editNameModal">
                            <i class="bi bi-pencil-fill"></i>
                        </button>
                    </div>
                    <div class="rating">
                        @for (int i = 0; i < @Model.Rating; i++)
                        {
                            <span><i class="bi bi-star-fill text-warning"></i></span>
                        }
                        @for (int i = 0; i < 5 - @Model.Rating; i++)
                        {
                            <span><i class="bi bi-star-fill text-gray"></i></span>
                        }
                        <h6 class="text-muted">Rating: @Model.Rating/5</h6>
                    </div>
                </div>
              <div class="container">
                  <div class="row">
                      <div class="col-md-6">
                          <button type="button" class="w-75 btn btn-warning mb-2"><i class="bi bi-pencil"></i> Branch Management</button>
                      </div>
                      <div class="col-md-6">
                          <a asp-controller="Category" asp-action="Index" asp-route-menuId="@Model.Menu_ID"  class="w-75 btn btn-warning mb-2"><i class="bi bi-pencil"></i> Categories Management</a>
                      </div>
                      <div class="col-md-6">
                          <a asp-controller="Item" asp-action="Index" asp-route-menuId="@Model.Menu_ID" class="w-75 btn btn-warning mb-2"><i class="bi bi-pencil"></i> Menu Management</a>
                      </div>
                      <div class="col-md-6">
                          <button  type="button" class="w-75 btn btn-warning"><i class="bi bi-pencil"></i> Offer Management</button>
                      </div>
                  
                      
                  </div>
              </div>

            </article>
        </section>
    </main>

    <!-- Edit Name Modal -->
    <div class="modal fade" id="editNameModal" tabindex="-1" aria-labelledby="editNameModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editNameModalLabel">Edit Restaurant Name</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="editNameForm" asp-action="EditResturantTitle" asp-controller="Restaurant" method="post">
                    <div class="modal-body">
                        <input type="text" class="form-control" asp-for="Name" placeholder="Enter new name">
                        <input type="hidden" asp-for="Id">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
     function submitForm(formID) {
         document.getElementById(formID).submit();
     }
</script>
    </body>
</html>
